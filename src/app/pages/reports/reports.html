<div class="p-6">


  <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-6">
    <div (click)="selectedReportId = null; activeTab = 'favorites'"
      [ngClass]="{'border-2 border-blue-500': activeTab === 'favorites'}"
      class="cursor-pointer bg-white dark:bg-gray-800 shadow-md rounded-lg p-4 flex items-center justify-center gap-3 hover:shadow-xl transition">
      <i class="pi pi-star text-2xl text-yellow-500 dark:text-yellow-400"></i>
      <span class="font-bold text-lg text-gray-800 dark:text-gray-100">المفضلة</span>
    </div>

    <div (click)="selectedReportId = null; activeTab = 'sales'"
      [ngClass]="{'border-2 border-blue-500': activeTab === 'sales'}"
      class="cursor-pointer bg-white dark:bg-gray-800 shadow-md rounded-lg p-4 flex items-center justify-center gap-3 hover:shadow-xl transition">
      <i class="pi pi-receipt text-2xl text-green-500 dark:text-green-400"></i>
      <span class="font-bold text-lg text-gray-800 dark:text-gray-100">المبيعات</span>
    </div>

    <div (click)="selectedReportId = null; activeTab = 'purchases'"
      [ngClass]="{'border-2 border-blue-500': activeTab === 'purchases'}"
      class="cursor-pointer bg-white dark:bg-gray-800 shadow-md rounded-lg p-4 flex items-center justify-center gap-3 hover:shadow-xl transition">
      <i class="pi pi-shopping-cart text-2xl text-blue-500 dark:text-blue-400"></i>
      <span class="font-bold text-lg text-gray-800 dark:text-gray-100">المشتريات</span>
    </div>

    <div (click)="selectedReportId = null; activeTab = 'inventory'"
      [ngClass]="{'border-2 border-blue-500': activeTab === 'inventory'}"
      class="cursor-pointer bg-white dark:bg-gray-800 shadow-md rounded-lg p-4 flex items-center justify-center gap-3 hover:shadow-xl transition">
      <i class="pi pi-box text-2xl text-purple-500 dark:text-purple-400"></i>
      <span class="font-bold text-lg text-gray-800 dark:text-gray-100">المخزون</span>
    </div>

    <div (click)="selectedReportId = null; activeTab = 'taxes'"
      [ngClass]="{'border-2 border-blue-500': activeTab === 'taxes'}"
      class="cursor-pointer bg-white dark:bg-gray-800 shadow-md rounded-lg p-4 flex items-center justify-center gap-3 hover:shadow-xl transition">
      <i class="pi pi-percentage text-2xl text-blue-500 dark:text-blue-400"></i>
      <span class="font-bold text-lg text-gray-800 dark:text-gray-100">الضرائب</span>
    </div>
  </div>


  <div class="grid grid-cols-1 gap-6">
    <div *ngIf="activeTab === 'favorites'">
      <!-- حالة عدم وجود مفضلات -->
      <div *ngIf="favoriteReports.length === 0" class="text-center p-6">
        <img src="assets/icons/favorite.png" alt="favorite" class="mx-auto mb-4 w-24 h-24" />
        <h3 class="text-lg font-bold mb-2">لا توجد تقارير مفضلة</h3>
        <p>ستظهر هنا التقارير التي قمت بتحديدها كمفضلة</p>
      </div>

      <!-- قائمة المفضلات -->
      <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4"
        *ngIf="favoriteReports.length > 0 && !selectedReportId">
        <app-report-card *ngFor="let reportId of favoriteReports" [report]="getReportById(reportId)" [isFavorite]="true"
          (favoriteChanged)="toggleFavoriteFromChild($event)" (reportSelected)="selectReport($event)">
        </app-report-card>
      </div>

      <div *ngIf="selectedReportId" class="card">
        <app-report-table [columns]="columns" [data]="reportData" [rows]="10" [showActions]="true"
          (edit)="onEdit($event)" (delete)="onDelete($event)" (print)="onPrint($event)">
        </app-report-table>
      </div>

    </div>


    <div *ngIf="activeTab === 'sales' ">
      <app-sales-report [favoriteReports]="favoriteReports" (favoriteChanged)="toggleFavoriteFromChild($event)">
      </app-sales-report>

    </div>

    <div *ngIf="activeTab === 'purchases'">
      <app-purchases-report [favoriteReports]="favoriteReports"
        (favoriteChanged)="toggleFavoriteFromChild($event)"></app-purchases-report>
    </div>

    <div *ngIf="activeTab === 'inventory'">
      <app-inventory-report [favoriteReports]="favoriteReports"
        (favoriteChanged)="toggleFavoriteFromChild($event)"></app-inventory-report>
    </div>

    <div *ngIf="activeTab === 'taxes'">
      <app-taxes-report [favoriteReports]="favoriteReports"
        (favoriteChanged)="toggleFavoriteFromChild($event)"></app-taxes-report>
    </div>

  </div>


</div>